<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTA 5 Quiz</title>
    <link rel="stylesheet" type="text/css" href="./styles/quiz.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WD3YV71065"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-WD3YV71065');
    </script>
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="header_button">Home</a>
            <a href="./home.html" class="header_button">Minigames</a>
        </nav>
    </header>

    <section class="quiz-container">
        <h2 class="title">GTA 5 Quiz</h2>
        <form id="quiz-form">
            <div class="question active" data-question="1">
                <h3>1. Who are the three main protagonists in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q1" value="A">A) Trevor, Michael, Franklin</label></li>
                    <li><label><input type="radio" name="q1" value="B">B) Trevor, CJ, Franklin</label></li>
                    <li><label><input type="radio" name="q1" value="C">C) Michael, Franklin, Lamar</label></li>
                    <li><label><input type="radio" name="q1" value="D">D) Trevor, Michael, Lamar</label></li>
                </ul>
            </div>
            <div class="question" data-question="2">
                <h3>2. What is the name of the city in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q2" value="A">A) Liberty City</label></li>
                    <li><label><input type="radio" name="q2" value="B">B) Los Santos</label></li>
                    <li><label><input type="radio" name="q2" value="C">C) Vice City</label></li>
                    <li><label><input type="radio" name="q2" value="D">D) San Fierro</label></li>
                </ul>
            </div>
            <div class="question" data-question="3">
                <h3>3. What is the fictional social media app in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q3" value="A">A) LifeInvader</label></li>
                    <li><label><input type="radio" name="q3" value="B">B) FaceInvader</label></li>
                    <li><label><input type="radio" name="q3" value="C">C) InstaLife</label></li>
                    <li><label><input type="radio" name="q3" value="D">D) Snapgram</label></li>
                </ul>
            </div>
            <div class="question" data-question="4">
                <h3>4. What is the name of the fictional stock market in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q4" value="A">A) BAWSAQ</label></li>
                    <li><label><input type="radio" name="q4" value="B">B) LCN</label></li>
                    <li><label><input type="radio" name="q4" value="C">C) WallStreet</label></li>
                    <li><label><input type="radio" name="q4" value="D">D) NASDAQ</label></li>
                </ul>
            </div>
            <div class="question" data-question="5">
                <h3>5. Which of these vehicles is available in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q5" value="A">A) Batmobile</label></li>
                    <li><label><input type="radio" name="q5" value="B">B) Monster Truck</label></li>
                    <li><label><input type="radio" name="q5" value="C">C) Dodo Plane</label></li>
                    <li><label><input type="radio" name="q5" value="D">D) RC Car</label></li>
                </ul>
            </div>
            <div class="question" data-question="6">
                <h3>6. What is the name of the radio station that plays rock music in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q6" value="A">A) Los Santos Rock Radio</label></li>
                    <li><label><input type="radio" name="q6" value="B">B) Radio Los Santos</label></li>
                    <li><label><input type="radio" name="q6" value="C">C) Vinewood Radio</label></li>
                    <li><label><input type="radio" name="q6" value="D">D) The Lowdown</label></li>
                </ul>
            </div>
            <div class="question" data-question="7">
                <h3>7. What is the name of Michaelâ€™s wife in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q7" value="A">A) Amanda</label></li>
                    <li><label><input type="radio" name="q7" value="B">B) Tracey</label></li>
                    <li><label><input type="radio" name="q7" value="C">C) Denise</label></li>
                    <li><label><input type="radio" name="q7" value="D">D) Molly</label></li>
                </ul>
            </div>
            <div class="question" data-question="8">
                <h3>8. Which of these is NOT a business you can invest in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q8" value="A">A) McKenzie Airfield</label></li>
                    <li><label><input type="radio" name="q8" value="B">B) The Vanilla Unicorn</label></li>
                    <li><label><input type="radio" name="q8" value="C">C) Los Santos Customs</label></li>
                    <li><label><input type="radio" name="q8" value="D">D) The Bahama Mamas West</label></li>
                </ul>
            </div>
            <div class="question" data-question="9">
                <h3>9. Which gang is Franklin a part of in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q9" value="A">A) Ballas</label></li>
                    <li><label><input type="radio" name="q9" value="B">B) Vagos</label></li>
                    <li><label><input type="radio" name="q9" value="C">C) Families</label></li>
                    <li><label><input type="radio" name="q9" value="D">D) Lost MC</label></li>
                </ul>
            </div>
            <div class="question" data-question="10">
                <h3>10. What is the name of the corrupt government agency in GTA 5?</h3>
                <ul class="options">
                    <li><label><input type="radio" name="q10" value="A">A) FIB</label></li>
                    <li><label><input type="radio" name="q10" value="B">B) CIA</label></li>
                    <li><label><input type="radio" name="q10" value="C">C) NSA</label></li>
                    <li><label><input type="radio" name="q10" value="D">D) KGB</label></li>
                </ul>
            </div>

            <h3>Your Score: <span id="score"></span>/10</h3>
            <div id="result" style="display: none;">
                <p>Your score is <span id="score"></span> out of 10.</p>
                <button type="button" class="button" onclick="retakeQuiz()">Retake Quiz</button>
            </div>
            <button type="submit" class="button">Submit</button>
        </form>
    </section>

    <footer>
        <p>&copy; 2024 GTA 5 Quiz. All rights reserved.</p>
    </footer>
    <script>
function setCookie(name, value) {
    const d = new Date();
    d.setFullYear(d.getFullYear() + 100);
    const expires = "expires=" + d.toUTCString();
    document.cookie = name + "=" + value + ";" + expires + ";path=/";
}

function getCookie(name) {
    const cname = name + "=";
    const decodedCookie = decodeURIComponent(document.cookie);
    const ca = decodedCookie.split(';');
    for (let i = 0; i < ca.length; i++) {
        let c = ca[i].trim();
        if (c.indexOf(cname) === 0) {
            return c.substring(cname.length, c.length);
        }
    }
    return "";
}

function checkgta5Score() {
    const score = getCookie("gta5Score");
    if (score !== "") {
        document.getElementById("score").textContent = score;
        document.getElementById("result").style.display = 'block';
    }
}

function calculateResults() {
    const quizForm = document.getElementById('quiz-form');
    const scoreSpan = document.getElementById('score');
    let score = 0;

    const correctAnswers = {
        q1: 'A',
        q2: 'B',
        q3: 'A',
        q4: 'A',
        q5: 'B',
        q6: 'A',
        q7: 'A',
        q8: 'C',
        q9: 'C',
        q10: 'A'
    };

    for (let [question, correctAnswer] of Object.entries(correctAnswers)) {
        const selectedAnswer = quizForm.querySelector(`input[name="${question}"]:checked`);
        if (selectedAnswer && selectedAnswer.value === correctAnswer) {
            score++;
        }
    }

    scoreSpan.textContent = score;
    setCookie("gta5Score", score);
    document.getElementById("result").style.display = 'block';
}

function retakeQuiz() {
    document.cookie = "gta5Score=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
    document.getElementById('quiz-form').reset();
    document.getElementById("score").textContent = "";
    document.getElementById("result").style.display = 'none';
    document.querySelectorAll('.question').forEach((q, index) => {
        q.classList.remove('active');
        if (index === 0) q.classList.add('active');
    });
}

function showNextQuestion(currentQuestionIndex) {
    const currentQuestion = document.getElementById(`question${currentQuestionIndex}`);
    const nextQuestion = document.getElementById(`question${currentQuestionIndex + 1}`);
    
    if (nextQuestion) {
        currentQuestion.classList.remove('active');
        nextQuestion.classList.add('active');
    } else {
        // If there's no next question, submit the quiz
        calculateResults();
    }
}

window.onload = function() {
    checkgta5Score();
    const quizForm = document.getElementById("quiz-form");
    quizForm.addEventListener("submit", (event) => {
        event.preventDefault(); // Prevent default form submission
    });
};

    </script>
    
</body>
</html>
